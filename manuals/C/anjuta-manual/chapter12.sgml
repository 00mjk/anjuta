
<!-- ============= Debugging: Program Stack ====================== -->
 <chapter id="debugging-stack">
  <title>Debugging: Stack Trace</title>
  <sect1 id="stack-win">
   <title>Stack Window</title>
   <para>
    The <interface>Stack trace window</interface> shows the contents of the 
	program stack. It lists all of the functions and their arguments in the 
	sequence they were called. There is also a number representing each call. 
	This number is called the <emphasis>Frame</emphasis>. Each call in the trace 
	exists in a different frame. This starts from frame 0 (the last function
    called) and grows higher as the function nesting become deeper.
   </para>
   <para>
    Choose the menu item <menuchoice><guisubmenu>View</guisubmenu><guimenuitem>Program 
	Stack</guimenuitem></menuchoice>, to open the stack trace for the program 
	being debugged.
   </para>
   <para>
    <figure>
      <title>Stack trace window</title>
      <screenshot>
	   <screeninfo>Stack trace window</screeninfo>
       <graphic fileref="figures/stack" format="png" srccredit="andyp"/>
      </screenshot>
    </figure>
   </para>
   <para>
    A small arrow points to the currently selected frame in the stack trace. By 
	default, this will be frame 0, the last function called. All of the evaluation 
	and inspection of expressions or variables will be with reference to this selected 
	frame. The scope of the variables or expressions being evaluated will be limited 
	to the selected frame only. The same applies for expressions in the watch.
   </para>
  </sect1>
  
  <sect1 id="stack-frame">
   <title>Setting the current frame</title>
   <para>
    Double-clicking on any frame in the stack trace will set that frame as the 
	currently selected frame (the arrow will point to the frame, indicating that it 
	has been selected as the current frame). Alternatively, open the 
	<interface>Operation menu</interface> by right-clicking on the 
	<interface>Stack trace window</interface>, and choose the menu item 
	<guimenuitem>Set frame</guimenuitem> to set the frame.
   </para>
  </sect1>
  
  <sect1 id="stack-frame-info">
   <title>Information about the current frame</title>
   <para>
    It is possible to obtain information about the currently selected frame 
	by choosing the menu item <menuchoice><guisubmenu>Debug</guisubmenu>
	<guisubmenu>Information</guisubmenu><guimenuitem>Info Current Frame</guimenuitem></menuchoice>. 
	A window will open describing the current frame.
   </para>
   <para>
    <figure>
      <title>Current Frame Information</title>
      <screenshot>
	   <screeninfo>Current Frame Information</screeninfo>
       <graphic fileref="figures/frame" format="png" srccredit="andyp"/>
      </screenshot>
    </figure>
   </para>
  </sect1>
  
  <sect1 id="stack-update">
   <title>Updating Stack trace</title>
   <para>
    Choose the menu item <guimenuitem>Update</guimenuitem> from the
    <interface>Operation menu</interface> (right-click on the 
	<interface>Stack trace window</interface>) to refresh the 
	<interface>Stack trace window</interface>.
   </para>
  </sect1>
 </chapter>
